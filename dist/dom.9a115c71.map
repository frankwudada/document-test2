{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","body","element","appendChild","before","node","node2","parentNode","insertBefore","after","nextSibling","append","wrap","remove","empty","array","x","push","attr","name","value","arguments","length","getAttribute","setAttribute","text","innerText","testContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","querySelectorAll","parent","children","sibling","Array","from","filter","n","previous","previousSibling","nodeType","next","each","i","call","index","list"],"mappings":"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","file":"dom.9a115c71.map","sourceRoot":"..\\src","sourcesContent":["window.dom = {\n\t// 新增\n\tcreate(string) {\n\t\tconst container = document.createElement('template')\n\t\tcontainer.innerHTML = string.trim()\n\t\treturn container.content.firstChild\n\t},\n\tbody(element) {\n\t\tdocument.body.appendChild(element)\n\t},\n\tbefore(node, node2) {\n\t\tnode2.parentNode.insertBefore(node, node2)\n\t},\n\tafter(node, node2) {\n\t\tnode2.parentNode.insertBefore(node, node2.nextSibling)\n\t},\n\tappend(node, node2) {\n\t\tnode2.appendChild(node)\n\t},\n\twrap(node, node2) {\n\t\tdom.before(node, node2)\n\t\t// 如果本来就是父子关系，互换之前先设置为平级关系。\n\t\tdom.append(node2, node)\n\t},\n\t// 删除\n\tremove(node) {\n\t\tnode.remove()\n\t\treturn node\n\t},\n\tempty(node) {\n\t\tconst array = []\n\t\tlet x = node.firstChild\n\t\twhile (x) {\n\t\t\tarray.push(node.firstChild)\n\t\t\tdom.remove(node.firstChild)\n\t\t\tx = node.firstChild\n\t\t}\n\t\treturn array\n\t},\n\t// 修改\n\tattr(node, name, value) {\n\t\tif (arguments.length === 2) {\n\t\t\treturn node.getAttribute(name)\n\t\t} else if (arguments.length === 3) {\n\t\t\tnode.setAttribute(name, value)\n\t\t}\n\t},\n\ttext(node, string) {\n\t\tif (arguments.length === 1) {\n\t\t\tif ('innerText' in node) {\n\t\t\t\treturn node.innerText\n\t\t\t} else {\n\t\t\t\treturn node.testContent\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif ('innerText' in node) {\n\t\t\t\tnode.innerText = string\n\t\t\t} else {\n\t\t\t\tnode.testContent = string\n\t\t\t}\n\t\t}\n\t},\n\thtml(node, string) {\n\t\tif (arguments.length === 1) {\n\t\t\treturn node.innerHTML\n\t\t} else if (arguments.length === 2) {\n\t\t\tnode.innerHTML = string\n\t\t}\n\t},\n\tstyle(node, name, value) {\n\t\tif (arguments.length === 3) {\n\t\t\tnode.style[name] = value\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (typeof name === 'string') {\n\t\t\t\treturn node.style[name] // 字符串，查看\n\t\t\t} else if (name instanceof Object) {\n\t\t\t\tconst object = name\n\t\t\t\tfor (let key in object) {\n\t\t\t\t\tnode.style[key] = object[key] // 对象，修改\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tclass: {\n\t\t// 类\n\t\tadd(node, className) {\n\t\t\tnode.classList.add(className)\n\t\t},\n\t\tremove(node, className) {\n\t\t\tnode.classList.remove(className)\n\t\t},\n\t\thas(node, className) {\n\t\t\treturn node.classList.contains(className) // 判断className是否存在，true or false。\n\t\t},\n\t},\n\ton(node, eventName, fn) {\n\t\tnode.addEventListener(eventName, fn)\n\t},\n\toff(node, eventName, fn) {\n\t\tnode.removeEventListener(eventName, fn)\n\t},\n\t// 查找\n\tfind(selector, node) {\n\t\treturn (node || document).querySelectorAll(selector)\n\t},\n\tparent(node) {\n\t\treturn node.parentNode\n\t},\n\tchildren(node) {\n\t\treturn node.children\n\t},\n\tsibling(node) {\n\t\treturn Array.from(node.parentNode.children).filter((n) => n !== node) // 过滤器\n\t},\n\tprevious(node) {\n\t\tlet x = node.previousSibling\n\t\twhile (x && x.nodeType === 3) {\n\t\t\tx = x.previousSibling\n\t\t}\n\t\treturn x\n\t},\n\tnext(node) {\n\t\tlet x = node.nextSibling\n\t\twhile (x && x.nodeType === 3) {\n\t\t\t// 短路逻辑\n\t\t\tx = x.nextSibling\n\t\t}\n\t\treturn x\n\t},\n\teach(node, fn) {\n\t\tif (node.children) {\n\t\t\t// 遍历\n\t\t\tfor (let i = 0; i < node.children.length; i++) {\n\t\t\t\tfn.call(null, node.children[i]) // 坚持使用call方法\n\t\t\t}\n\t\t}\n\t},\n\tindex(node) {\n\t\tlist = dom.children(node.parentNode)\n\t\tlet i\n\t\tfor (i = 0; i < list.length; i++) {\n\t\t\tif (list[i] === node) {\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\treturn i\n\t},\n}\n"]}